<!-- Item de comentario -->
<div class="comment">
  <!-- Cabecera del comentario -->
  <div class="comment-header">
    <div class="comment-author">
      <img [src]="comment.user.foto || 'default-avatar.png'" alt="..." class="comment-avatar">
      <strong class="comment-username">{{ comment.user.username }}</strong>
    </div>
    <span class="comment-date">{{ comment.created_at | date:'short' }}</span>
  </div>

  <!-- Cuerpo del comentario -->
  <div class="comment-body">
    {{ comment.comment_content }}
  </div>

  <!-- Pie del comentario -->
  <div class="comment-footer">
    <div>
      <button (click)="toggleReplyForm()" class="comment-reply-button"><i class="fa fa-reply"></i> {{ 'REPLY-TO' |
        translate }} {{ comment.user.username }}</button>
      <button *ngIf="comment.replies.length > 0" (click)="toggleReplies()" class="comment-reply-button ml-4">
        {{ (showReplies ? 'HIDE-REPLIES' : 'SHOW-REPLIES') | translate }}
      </button>
    </div>
    <button *ngIf="canDeleteComment()" (click)="deleteComment()" class="comment-delete-button">
      {{ 'DELETE' | translate }} <i class="fa fa-trash"></i>
    </button>
  </div>

  <!-- Formulario de respuesta -->
  <div *ngIf="showReplyForm" class="reply-form">
    <form [formGroup]="replyForm" (ngSubmit)="onSubmitReply()">
      <textarea formControlName="comment_content" [placeholder]="'WRITE-A-COMMENT-PLACEHOLDER' | translate"
        class="comment-textarea"></textarea>
      <button id="enviar" type="submit" [disabled]="replyForm.invalid" class="comment-button">
        <div class="svg-wrapper-1">
          <div class="svg-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path fill="none" d="M0 0h24v24H0z"></path>
              <path fill="currentColor"
                d="M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z">
              </path>
            </svg>
          </div>
        </div>
        <span>{{ 'SEND' | translate }}</span>
      </button>
    </form>
  </div>

  <!-- Respuestas a este comentario -->
  <div class="comment-replies" *ngIf="showReplies && comment.replies.length > 0">
    <app-comment-item *ngFor="let reply of comment.replies" [comment]="reply"></app-comment-item>
  </div>
</div>